{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
   
    <title>feelgoodfoodie</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <link rel="icon" href="{% static "/img/favicon_package_v0.16/favicon.ico" %}" type="image/x-icon">

    
   
</head>
<body>
  <nav  id="navbar1"  class="navbar navbar-expand-lg navbar-light bg-light shadow-sm"  >
    <div class="container-fluid">
      <div class="center">
        <img style="width: 6%;" src="{% static "/img/bibimbap.png" %}" alt="">
      <a class="navbar-brand "  href="#" class="font">
        
        feelgoodfoodie</a></div>
    
      </button>
     
       
          <a href="{% url 'login_page' %}"class="btn btn-outline-success" type="submit">Logout</a>
        </form>
      </div>
    </div>
  </nav>



  
    <div class="container mt-5">
        <form class="col-6 mx-auto card p-3 shadow-lg " method="post" enctype="multipart/form-data">
          
          
          {% csrf_token %}
          <fieldset >
            <legend>Receipes :</legend>
            <div class="mb-3">
              <label for="InputEmail" class="form-label">Receipes name:</label>
              <input  name="receipes_name" type="text"  class="form-control" >
              </div>

           
              
              <div class="mb-3">
                <label for="InputPassword1" class="form-label">Description:</label>
                <textarea name="receipes_discription" type='text' class="form-control" > </textarea>
               
              </div>
              <div class="mb-3">
                <label for="exampleInputPassword1" class="form-label">Receipes  select image</label>
                <input  name="receipes_image" type="file"  class="form-control" >
                
                
                  
                </select>
                
                </div>
                
                <div class="mb-3">
                  <div class="form-check">
                    
                    
                      </label>
                      </div>
                      </div>
                      {% comment %} <button type="submit" class="btn btn-primary">Private</button> {% endcomment %}
                      {% comment %} <button type="submit" name="Public" class="btn btn-primary">Public</button> {% endcomment %}
                      <input type="submit" value="Private" name="public"  class="btn btn-primary">

                      <input type="submit" value="Public" name="public"  class="btn btn-primary">
                      </fieldset>
                      </form>
                      <div class="mt-5">
                        <div class='mx-auto col-6'>
                          <form >
                          <div clas='mb-3'>
                            <label for="exampleInputEmail" class="form-label">Search Food</label>
                            <input  name="search " type="text"  class="form-control" placeholder="Search Food" id="searchInput">
                            
                            </div>
                          
            
                        </div>
                      </form>
            
                      </div>
                      <h1 style="margin-left: 37%;">The best food ever .</h1>
   
      
       <table class="table" id="myTable">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Receipe name</th>
            <th scope="col">Receipe Desc</th>
            <th scope="col">Image</th>
            <th scope="col">Actions</th>
          </tr>
        </thead>
        {% for  receipe in receipes %}
        <tbody>
          <tr>
            <th scope="row">{{forloop.counter}}</th>
            <td>{{receipe.receipes_name}}</td>
            <td>{{receipe.receipes_discription}}</td>
            <td><img class="imgy" src="/media/{{ receipe.receipes_image }}" alt=""></td>
            <td>
             <a href="/delete_receipes/{{receipe.id}}" class="btn btn-danger m-2" >Delete</a>
             <a href="/update_receipes/{{receipe.id}}"  id="update"  class="btn btn-success">Update</a>
            </td>

           
          </tr>
          {% endfor %}
         
        </tbody>
      </table>














     
    </div>
    






<script>
const searchInput = document.getElementById('searchInput');
const table = document.getElementById('myTable');
const tableRows = table.getElementsByTagName('tr'); 

searchInput.addEventListener('keyup', function(event) {
    const searchText = event.target.value.toLowerCase(); 

   
    for (let i = 1; i < tableRows.length; i++) {
        const row = tableRows[i];
        let rowVisible = false;

        
        const columns = row.getElementsByTagName('td');
        for (let j = 0; j < columns.length; j++) {
            const column = columns[j];
            if (column) {
                const cellText = column.textContent.toLowerCase(); 
                if (cellText.includes(searchText)) {
                    rowVisible = true; 
                    break;
                }
            }
        }

        
        if (rowVisible) {
            row.style.display = ''; 
        } else {
            row.style.display = 'none'; 
        }
    }
});


</script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>